node.exe : npm warn config optional Use `--omit=optional` to exclude optional dependencies, or
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (npm warn config...ependencies, or:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
npm warn config `--include=optional` to include them.
npm warn config
npm warn config       Default value does install optional deps unless otherwise omitted.
npm warn Unknown project config "node-linker". This will stop working in the next major version of npm.

> @agentron-studio/ui@0.1.3 test:coverage
> vitest run --coverage


 RUN  v4.0.18 C:/Users/Julian/Documents/Programming/agentron/packages/ui
      Coverage enabled with v8

 Ô£ô __tests__/api/_lib/shell-exec.test.ts (8 tests) 821ms
       Ô£ô runs simple command and returns stdout, stderr, exitCode  552ms
 Ô£ô __tests__/api/system-stats.test.ts (2 tests) 799ms
     Ô£ô GET /api/system-stats returns snapshot with ram, process, cpu, disk, gpu  797ms
 Ô£ô __tests__/api/_lib/execution-log.test.ts (5 tests) 71ms
 Ô£ô __tests__/api/files.test.ts (5 tests) 100ms
 Ô£ô __tests__/api/_lib/run-scheduled-workflow.test.ts (5 tests) 130ms
 Ô£ô __tests__/api/remote-servers.test.ts (10 tests) 115ms
 Ô£ô __tests__/api/rag-upload.test.ts (3 tests) 96ms
 Ô£ô __tests__/api/_lib/credential-store.test.ts (13 tests) 110ms
 Ô£ô __tests__/api/skills.test.ts (19 tests) 162ms
 Ô£ô __tests__/api/_lib/rag.test.ts (7 tests) 151ms
 Ô£ô __tests__/api/vault-create.test.ts (10 tests) 164ms
 Ô£ô __tests__/api/_lib/execution-events.test.ts (13 tests) 284ms
 Ô£ô __tests__/api/rag.test.ts (17 tests) 190ms
 Ô£ô __tests__/api/_lib/vault.test.ts (10 tests) 316ms
 Ô£ô __tests__/api/settings-telegram.test.ts (13 tests) 301ms
 Ô£ô __tests__/api/reminders-id.test.ts (5 tests) 90ms
 Ô£ô __tests__/api/reminders.test.ts (17 tests) 106ms
 Ô£ô __tests__/api/_lib/chat-queue.test.ts (7 tests) 482ms
 Ô£ô __tests__/api/vault-credentials.test.ts (29 tests) 355ms
 Ô£ô __tests__/api/tools.test.ts (10 tests) 569ms
     Ô£ô GET /api/tools returns array  486ms
 Ô£ô __tests__/api/backup.test.ts (5 tests) 877ms
     Ô£ô POST /api/backup/restore accepts file and restores  403ms
     Ô£ô POST /api/backup/reset returns ok and message  396ms
 Ô£ô __tests__/hooks/useChatStream.test.ts (23 tests) 51ms
 Ô£ô __tests__/api/tasks.test.ts (9 tests) 150ms
'wmic' is not recognized as an internal or external command,
operable program or batch file.
 Ô£ô __tests__/api/chat-stream.test.ts (4 tests) 33ms
 Ô£ô __tests__/api/agents.test.ts (26 tests) 224ms
 Ô£ô __tests__/api/workflows.test.ts (26 tests) 392ms
 Ô£ô __tests__/api/ollama.test.ts (2 tests) 135ms
 Ô£ô __tests__/api/rag-connectors.test.ts (7 tests) 135ms
 Ô£ô __tests__/api/queues.test.ts (12 tests) 494ms
 Ô£ô __tests__/api/stats.test.ts (19 tests) 495ms
 Ô£ô __tests__/api/shell-command-execute.test.ts (6 tests) 28ms
 Ô£ô __tests__/api/rag-ingest.test.ts (4 tests) 114ms
 Ô£ô __tests__/api/chat-run-waiting.test.ts (3 tests) 107ms
 Ô£ô __tests__/api/_lib/store.test.ts (4 tests) 19ms
 Ô£ô __tests__/api/import.test.ts (8 tests) 764ms
     Ô£ô POST /api/import imports tools  702ms
 Ô£ô __tests__/api/_lib/response.test.ts (3 tests) 20ms
 Ô£ô __tests__/api/_lib/chat-helpers.test.ts (69 tests) 13ms
 Ô£ô __tests__/api/update-check.test.ts (10 tests) 24ms
 Ô£ô __tests__/api/process-stats.test.ts (1 test) 21ms
 Ô£ô __tests__/api/notifications.test.ts (24 tests) 1013ms
 Ô£ô __tests__/api/files-id.test.ts (5 tests) 67ms
 Ô£ô __tests__/api/chat-settings.test.ts (4 tests) 72ms
 Ô£ô __tests__/api/feedback.test.ts (8 tests) 72ms
 Ô£ô __tests__/api/_lib/embeddings.test.ts (7 tests) 61ms
 Ô£ô __tests__/api/functions.test.ts (6 tests) 94ms
 Ô£ô __tests__/api/chat-conversations-id.test.ts (4 tests) 77ms
 Ô£ô __tests__/api/mcp.test.ts (1 test) 21ms
 Ô£ô __tests__/api/llm-providers-id.test.ts (2 tests) 252ms
 Ô£ô __tests__/api/_lib/chat-event-channel.test.ts (6 tests) 6ms
 Ô£ô __tests__/api/_lib/browser-automation.test.ts (12 tests) 17ms
 Ô£ô __tests__/api/runs-for-improvement.test.ts (3 tests) 180ms
 Ô£ô __tests__/api/rag-vector-store.test.ts (7 tests) 198ms
 Ô£ô __tests__/api/telegram-webhook.test.ts (7 tests) 47ms
 Ô£ô __tests__/api/_lib/vector-store-query.test.ts (7 tests) 9ms
 Ô£ô __tests__/fixtures/agent-pattern-examples.test.ts (5 tests) 7ms
 Ô£ô __tests__/api/llm-providers.test.ts (3 tests) 46ms
 Ô£ô __tests__/api/chat-conversations.test.ts (3 tests) 54ms
 Ô£ô __tests__/api/settings-pricing.test.ts (8 tests) 88ms
 Ô£ô __tests__/api/_lib/heap.test.ts (70 tests) 36ms
 Ô£ô __tests__/lib/notifications-events.test.ts (3 tests) 6ms
 Ô£ô __tests__/lib/naming.test.ts (2 tests) 3ms
 Ô£ô __tests__/lib/chat-url-params.test.ts (4 tests) 3ms
 Ô£ô __tests__/api/_lib/execute-tool.test.ts (72 tests) 1628ms
       Ô£ô category improvement with no subset returns prompt_and_topology (production default)  688ms
 Ô£ô __tests__/api/runs-logs.test.ts (67 tests) 1627ms
 Ô£ô __tests__/api/feedback-for-scope.test.ts (3 tests) 32ms
 Ô£ô __tests__/api/export.test.ts (4 tests) 35ms
 Ô£ô __tests__/api/rag-retrieve.test.ts (3 tests) 34ms
 Ô£ô __tests__/api/chat-pending-input.test.ts (1 test) 31ms
 Ô£ô __tests__/lib/chat-state-cache.test.ts (5 tests) 3ms
 Ô£ô __tests__/components/notifications-modal.test.ts (3 tests) 3ms
 Ô£ô __tests__/api/ollama-pull.test.ts (1 test) 3ms
 Ô£ô __tests__/components/chat-message-content-options.test.ts (8 tests) 7ms
 Ô£ô __tests__/api/chat.test.ts (1 test) 2ms
 Ô£ô __tests__/api/_lib/e2e-logger.test.ts (1 test) 3ms
 Ô£ô __tests__/api/_lib/e2e-summary-reporter.test.ts (1 test) 3ms
 Ô£ô __tests__/lib/suggested-models.test.ts (1 test) 2ms
 Ô£ô __tests__/api/rag-documents.test.ts (2 tests) 29ms
 Ô£ô __tests__/api/_lib/app-settings.test.ts (13 tests) 37ms
 Ô£ô __tests__/api/_lib/workflow-queue.test.ts (5 tests) 57ms
 Ô£ô __tests__/api/rate-limit-queue.test.ts (1 test) 5ms
 Ô£ô __tests__/api/llm-rate-limit-defaults.test.ts (1 test) 6ms
 Ô£ô __tests__/api/_lib/workflow-engine.test.ts (7 tests) 5ms
 Ô£ô __tests__/api/sandbox-shell.test.ts (1 test) 19ms
 Ô£ô __tests__/api/functions-execute.test.ts (2 tests) 34ms
 Ô£ô __tests__/api/_lib/telegram-sessions.test.ts (3 tests) 5ms
stdout | __tests__/api/chat-api.test.ts > Chat API > heap mode done event includes execute_workflow toolResults so client can trigger run
[assistant] heap DAG level {
  traceId: '37d0f133-dd89-4514-bc0d-bdf86a82a42e',
  phase: 'heap',
  levelIndex: 0,
  specialistIds: [ 'workflow__part1' ],
  depth: 0
}

 Ô£ô __tests__/api/chat/_lib/run-turn-helpers.test.ts (7 tests) 5ms
 Ô£ô __tests__/api/heap-route.test.ts (1 test) 7ms
 Ô£ô __tests__/api/_lib/scheduled-workflows.test.ts (10 tests) 7ms
stdout | __tests__/api/chat-api.test.ts > Chat API > create agent then workflow flow: create_agent in toolResults and agent in DB
[assistant] heap DAG level {
  traceId: '174a0f51-3129-45a9-90ce-d1e0880e507f',
  phase: 'heap',
  levelIndex: 0,
  specialistIds: [ 'agent_lifecycle' ],
  depth: 0
}

 Ô£ô __tests__/api/workflow-queue-route.test.ts (1 test) 7ms
 Ô£ô __tests__/api/chat-extract-content.test.ts (11 tests) 3ms
 Ô£ô __tests__/api/rag-connectors-sync.test.ts (1 test) 15ms
 Ô£ô __tests__/api/_lib/run-workflow.test.ts (5 tests) 2ms
stdout | __tests__/api/chat-api.test.ts > Chat API > create agent then workflow flow: create_agent in toolResults and agent in DB
[assistant] heap DAG level {
  traceId: '174a0f51-3129-45a9-90ce-d1e0880e507f',
  phase: 'heap',
  levelIndex: 1,
  specialistIds: [ 'workflow__part1' ],
  depth: 0
}

 Ô£ô __tests__/api/chat-improve-agents.test.ts (1 test) 2ms
stdout | __tests__/api/chat-api.test.ts > Chat API > heap mode done event has toolResults array when specialist runs no tools
[assistant] heap DAG level {
  traceId: '00aa76c6-61fb-42ee-8c18-1d24a17381e8',
  phase: 'heap',
  levelIndex: 0,
  specialistIds: [ 'general' ],
  depth: 0
}

 Ô£ô __tests__/api/settings-app.test.ts (20 tests) 5432ms
     Ô£ô GET /api/settings/app returns default maxFileUploadBytes and workflowMaxSelfFixRetries  779ms
     Ô£ô PATCH /api/settings/app updates maxFileUploadBytes  1721ms
     Ô£ô PATCH /api/settings/app updates workflowMaxSelfFixRetries  658ms
     Ô£ô PATCH /api/settings/app with invalid body leaves settings unchanged  600ms
     Ô£ô PATCH /api/settings/app updates containerEngine  574ms
     Ô£ô PATCH /api/settings/app ignores maxFileUploadBytes when NaN  553ms
     Ô£ô PATCH /api/settings/app ignores workflowMaxSelfFixRetries out of range  528ms
 Ô£ô __tests__/api/chat-events-sse.test.ts (3 tests) 5865ms
     Ô£ô second GET with same turnId receives events and does not get Connection issue when first GET took the job  985ms
     Ô£ô fallback runs job when no GET /api/chat/events connects (e.g. after Retry)  4873ms
stdout | __tests__/api/chat-api.test.ts > Chat API > planner response.raw fallback: when content is empty but raw has OpenAI-like plan, plan is parsed and trace has parsedPlan
[assistant] heap DAG level {
  traceId: 'c93fb78d-34e9-428d-bb13-1d875fce7461',
  phase: 'heap',
  levelIndex: 0,
  specialistIds: [ 'agent_lifecycle' ],
  depth: 0
}

stdout | __tests__/api/chat-api.test.ts > Chat API > planner response.raw fallback: when content is empty but raw has OpenAI-like plan, plan is parsed and trace has parsedPlan
[assistant] heap DAG level {
  traceId: 'c93fb78d-34e9-428d-bb13-1d875fce7461',
  phase: 'heap',
  levelIndex: 1,
  specialistIds: [ 'workflow__part1' ],
  depth: 0
}

stdout | __tests__/api/chat-api.test.ts > Chat API > planner empty content and no usable raw: fallback order used and trace shows placeholder
[assistant] heap DAG level {
  traceId: '05b1e3f8-3c9a-4a90-b3d0-b78fe22c0aab',
  phase: 'heap',
  levelIndex: 0,
  specialistIds: [ 'agent_lifecycle' ],
  depth: 0
}

stdout | __tests__/api/chat-api.test.ts > Chat API > heap mode done event includes execute_workflow tool result when workflow not found (error result)
[assistant] heap DAG level {
  traceId: '5f08fdca-d7d9-4d09-ae31-8e7a3947eb28',
  phase: 'heap',
  levelIndex: 0,
  specialistIds: [ 'workflow__part1' ],
  depth: 0
}

 Ô£ô __tests__/api/chat-api.test.ts (15 tests) 10420ms
     Ô£ô decoupled chat returns 202 and turnId; events stream runs job and releases lock  1332ms
     Ô£ô multi-turn conversation: second assistant response is persisted and returned by GET  1091ms
     Ô£ô heap mode done event includes execute_workflow toolResults so client can trigger run  594ms
     Ô£ô create agent then workflow flow: create_agent in toolResults and agent in DB  946ms
     Ô£ô heap mode done event has toolResults array when specialist runs no tools  1355ms
     Ô£ô planner response.raw fallback: when content is empty but raw has OpenAI-like plan, plan is parsed and trace has parsedPlan  2836ms
     Ô£ô planner empty content and no usable raw: fallback order used and trace shows placeholder  1828ms
     Ô£ô heap mode done event includes execute_workflow tool result when workflow not found (error result)  407ms

 Test Files  96 passed (96)
      Tests  931 passed (931)
   Start at  19:39:11
   Duration  14.80s (transform 10.50s, setup 1.47s, import 138.16s, tests 37.31s, environment 11ms)

 % Coverage report from v8
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   60.19 |    44.45 |   68.08 |    61.6 |                   
 api/_lib          |   52.94 |    40.39 |   66.99 |    53.3 |                   
  api-logger.ts    |   33.87 |    32.25 |   66.66 |    37.5 | ...4,48-51,85-127 
  app-settings.ts  |   98.03 |    97.05 |     100 |   97.95 | 35                
  ...automation.ts |   69.32 |    58.09 |   58.82 |   71.52 | ...40-345,357-372 
  ...nt-channel.ts |   92.59 |       75 |   88.88 |    92.3 | 49-50             
  chat-helpers.ts  |   86.69 |    74.92 |   78.84 |   88.73 | ...59,468,474-478 
  chat-queue.ts    |   91.66 |    59.09 |     100 |   93.93 | 37,89             
  ...er-manager.ts |   68.96 |    52.94 |   71.42 |   67.85 | ...66,74-77,81-82 
  ...tial-store.ts |    92.1 |       80 |     100 |   96.55 | 28                
  db-mappers.ts    |   84.84 |    71.91 |   83.33 |   83.09 | ...45,405,456,541 
  db.ts            |   78.78 |    67.05 |   77.77 |   81.91 | ...03,284-298,795 
  embeddings.ts    |   94.44 |    63.63 |     100 |   96.55 | 47                
  ...ion-events.ts |   93.22 |     80.3 |     100 |   95.74 | 231,239           
  execution-log.ts |   92.85 |    88.88 |     100 |     100 | 11-12             
  ...-for-scope.ts |   38.09 |    46.66 |   33.33 |   47.05 | 28-41             
  naming.ts        |     100 |      100 |     100 |     100 |                   
  ...ions-store.ts |   95.58 |    71.79 |     100 |   98.38 | 43                
  rag.ts           |   72.54 |    38.46 |     100 |   71.11 | 61-83,97          
  ...-scheduler.ts |       2 |        0 |       0 |    2.17 | 13-129            
  response.ts      |     100 |      100 |     100 |     100 |                   
  ...mprovement.ts |   40.35 |    21.31 |   33.33 |   40.38 | ...,45-63,149-163 
  ...duled-turn.ts |      40 |        0 |      50 |      40 | 20-23             
  ...d-workflow.ts |   78.57 |    56.25 |      25 |   77.77 | 50-51,69-74,81-85 
  ...-constants.ts |     100 |      100 |     100 |     100 |                   
  ...containers.ts |     0.8 |        0 |       0 |    0.81 | 22-99,109-312     
  ...low-engine.ts |    7.28 |     3.42 |       5 |    7.69 | ...1275,1279-1283 
  ...-execution.ts |    2.56 |        0 |       0 |    2.87 | 46-343,366-388    
  ...e-bindings.ts |   79.41 |    78.57 |   66.66 |      80 | 26,61-62,104-116  
  ...-workflows.ts |   41.89 |    31.57 |   34.78 |   41.22 | ...30-234,238-248 
  shell-exec.ts    |   96.29 |    83.33 |   77.77 |   97.91 | 81                
  ...-overrides.ts |   33.33 |       10 |      50 |   33.33 | 22-42             
  store.ts         |     100 |       75 |     100 |     100 | 11                
  system-stats.ts  |   76.27 |    52.43 |   94.11 |   81.13 | ...90-194,220-222 
  ...m-sessions.ts |   93.33 |      100 |     100 |   92.85 | 20                
  ...m-settings.ts |   87.87 |    72.22 |     100 |    87.5 | 36,52,91-95       
  ...ram-update.ts |   73.52 |    52.17 |     100 |   75.75 | 30-32,69-74,93-95 
  vault.ts         |   90.36 |    66.66 |     100 |   93.33 | 27,32-34,45       
  ...tore-query.ts |   71.42 |    80.95 |   83.33 |   73.07 | 75-79,85-87       
  ...flow-queue.ts |   38.15 |    44.23 |   69.23 |   39.39 | ...83-238,249-257 
 api/_lib/e2e      |       0 |        0 |       0 |       0 |                   
  e2e-logger.ts    |       0 |        0 |       0 |       0 |                   
  ...y-reporter.ts |       0 |        0 |       0 |       0 |                   
 api/agents        |     100 |    83.33 |     100 |     100 |                   
  route.ts         |     100 |    83.33 |     100 |     100 | 15                
 api/agents/[id]   |      70 |    26.92 |   57.14 |   68.96 |                   
  route.ts         |      70 |    26.92 |   57.14 |   68.96 | 14-25             
 ...s/[id]/execute |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...ts/[id]/refine |   39.28 |       20 |      20 |      40 |                   
  route.ts         |   39.28 |       20 |      20 |      40 | 35-59,67-69       
 .../[id]/rollback |      80 |       75 |   33.33 |   86.95 |                   
  route.ts         |      80 |       75 |   33.33 |   86.95 | 32-34             
 ...ts/[id]/skills |    90.9 |    71.42 |     100 |     100 |                   
  route.ts         |    90.9 |    71.42 |     100 |     100 | ...6,55-60,73,101 
 .../[id]/versions |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...workflow-usage |   80.95 |       50 |     100 |   89.47 |                   
  route.ts         |   80.95 |       50 |     100 |   89.47 | 12,30             
 api/backup/export |      75 |        0 |     100 |      75 |                   
  route.ts         |      75 |        0 |     100 |      75 | 26-28             
 api/backup/reset  |     100 |       50 |     100 |     100 |                   
  route.ts         |     100 |       50 |     100 |     100 | 14                
 ...backup/restore |   84.21 |       80 |     100 |   84.21 |                   
  route.ts         |   84.21 |       80 |     100 |   84.21 | 29-31             
 api/chat/_lib     |   42.47 |    31.82 |   39.33 |   43.84 |                   
  ...ecute-turn.ts |   40.83 |    29.25 |   39.02 |   41.87 | ...1041,1059-1134 
  ...route-heap.ts |    83.7 |    63.58 |   92.85 |   85.03 | ...06,314,325-337 
  ...route-post.ts |   48.35 |    34.84 |   35.71 |   49.42 | ...21-840,968-982 
  ...ute-shared.ts |   78.33 |    65.85 |   77.77 |   82.35 | ...07-112,151-152 
  ...-reminders.ts |   32.68 |       25 |   15.62 |   34.29 | ...1636,1649-1715 
  ...ool-shared.ts |   47.87 |    28.82 |      56 |    47.5 | ...53,381,390-418 
  execute-tool.ts  |   37.66 |    29.39 |   28.12 |   38.44 | ...1122,1203-1208 
  ...rn-helpers.ts |   35.39 |    23.85 |      25 |   38.46 | ...41-282,307-323 
 .../conversations |   88.88 |       75 |   66.66 |     100 |                   
  route.ts         |   88.88 |       75 |   66.66 |     100 | 13                
 ...ersations/[id] |   83.87 |    53.84 |      75 |   96.15 |                   
  route.ts         |   83.87 |    53.84 |      75 |   96.15 | 26                
 api/chat/events   |   64.86 |       40 |   71.42 |   66.66 |                   
  route.ts         |   64.86 |       40 |   71.42 |   66.66 | 30-47,73-76,86-88 
 .../pending-input |   10.63 |        0 |   16.66 |   13.51 |                   
  route.ts         |   10.63 |        0 |   16.66 |   13.51 | 22-35,42-72       
 ...at/run-waiting |   84.37 |    56.66 |     100 |   89.65 |                   
  route.ts         |   84.37 |    56.66 |     100 |   89.65 | 19-20,68          
 api/chat/settings |   95.52 |    83.78 |   83.33 |   96.49 |                   
  route.ts         |   95.52 |    83.78 |   83.33 |   96.49 | 32,50             
 api/export        |   95.23 |    94.44 |      50 |     100 |                   
  route.ts         |   95.23 |    94.44 |      50 |     100 | 38                
 api/feedback      |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/feedback/[id] |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...back/for-scope |     100 |    92.85 |     100 |     100 |                   
  route.ts         |     100 |    92.85 |     100 |     100 | 18                
 api/files         |     100 |     87.5 |     100 |     100 |                   
  route.ts         |     100 |     87.5 |     100 |     100 | 41                
 api/files/[id]    |   96.15 |       80 |     100 |   96.15 |                   
  route.ts         |   96.15 |       80 |     100 |   96.15 | 27                
 api/functions     |     100 |       80 |     100 |     100 |                   
  route.ts         |     100 |       80 |     100 |     100 | 25-26             
 ...functions/[id] |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...s/[id]/execute |   42.85 |    22.22 |     100 |   40.74 |                   
  route.ts         |   42.85 |    22.22 |     100 |   40.74 | 29-32,45,49-65    
 api/heap          |    87.5 |     62.5 |   85.71 |     100 |                   
  route.ts         |    87.5 |     62.5 |   85.71 |     100 | 33-44,50          
 api/import        |   76.92 |    71.18 |     100 |   76.92 |                   
  route.ts         |   76.92 |    71.18 |     100 |   76.92 | ...54-155,172-180 
 api/llm/providers |   70.73 |    52.77 |     100 |   73.68 |                   
  route.ts         |   70.73 |    52.77 |     100 |   73.68 | 20-22,40-41,64-71 
 ...providers/[id] |   65.85 |     30.3 |     100 |   68.42 |                   
  route.ts         |   65.85 |     30.3 |     100 |   68.42 | ...37,61-63,73-75 
 ...limit-defaults |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/mcp           |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/notifications |   90.19 |    80.55 |    90.9 |   93.02 |                   
  route.ts         |   90.19 |    80.55 |    90.9 |   93.02 | 53-57,90          
 ...ications/clear |   94.73 |    83.33 |     100 |   94.44 |                   
  route.ts         |   94.73 |    83.33 |     100 |   94.44 | 16                
 api/process-stats |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/queues        |   92.68 |    75.75 |     100 |   97.29 |                   
  route.ts         |   92.68 |    75.75 |     100 |   97.29 | 51                
 ...es/message-log |     100 |    78.26 |     100 |     100 |                   
  route.ts         |     100 |    78.26 |     100 |     100 | ...4-47,71,84-105 
 ...ag/collections |   81.81 |    71.42 |   66.66 |   81.81 |                   
  route.ts         |   81.81 |    71.42 |   66.66 |   81.81 | 10,36             
 ...llections/[id] |   78.94 |    63.33 |     100 |   96.55 |                   
  route.ts         |   78.94 |    63.33 |     100 |   96.55 | 42                
 ...rag/connectors |    90.9 |       40 |   66.66 |    90.9 |                   
  route.ts         |    90.9 |       40 |   66.66 |    90.9 | 10                
 ...onnectors/[id] |   82.35 |     62.5 |     100 |   96.29 |                   
  route.ts         |   82.35 |     62.5 |     100 |   96.29 | 39                
 ...tors/[id]/sync |   13.79 |     5.71 |     100 |   12.96 |                   
  route.ts         |   13.79 |     5.71 |     100 |   12.96 | ...7,34-41,44-163 
 ...document-store |   81.81 |    57.14 |   66.66 |   81.81 |                   
  route.ts         |   81.81 |    57.14 |   66.66 |   81.81 | 10,36             
 ...ent-store/[id] |   78.94 |    65.62 |     100 |   96.55 |                   
  route.ts         |   78.94 |    65.62 |     100 |   96.55 | 42                
 api/rag/documents |    87.5 |    33.33 |      50 |   85.71 |                   
  route.ts         |    87.5 |    33.33 |      50 |   85.71 | 18                
 ...ncoding-config |    90.9 |      100 |   66.66 |    90.9 |                   
  route.ts         |    90.9 |      100 |   66.66 |    90.9 | 10                
 ...ng-config/[id] |   82.35 |    56.25 |     100 |   96.29 |                   
  route.ts         |   82.35 |    56.25 |     100 |   96.29 | 33                
 api/rag/ingest    |   79.31 |    51.85 |     100 |   80.39 |                   
  route.ts         |   79.31 |    51.85 |     100 |   80.39 | 20-21,79-91,101   
 api/rag/retrieve  |   81.81 |       75 |     100 |   81.81 |                   
  route.ts         |   81.81 |       75 |     100 |   81.81 | 27-28             
 api/rag/upload    |   68.42 |    52.38 |      50 |   68.42 |                   
  route.ts         |   68.42 |    52.38 |      50 |   68.42 | ...36,44-45,88-99 
 ...g/vector-store |    90.9 |       50 |   66.66 |    90.9 |                   
  route.ts         |    90.9 |       50 |   66.66 |    90.9 | 10                
 ...tor-store/[id] |   84.37 |    55.55 |     100 |   96.15 |                   
  route.ts         |   84.37 |    55.55 |     100 |   96.15 | 32                
 ...te-limit/queue |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/reminders     |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...reminders/[id] |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...remote-servers |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...e-servers/[id] |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/runs          |     100 |    86.36 |     100 |     100 |                   
  route.ts         |     100 |    86.36 |     100 |     100 | 30-37             
 api/runs/[id]     |      95 |    86.95 |   66.66 |   97.29 |                   
  route.ts         |      95 |    86.95 |   66.66 |   97.29 | 55                
 .../agent-request |     100 |       90 |     100 |     100 |                   
  route.ts         |     100 |       90 |     100 |     100 | 41,66,73-89       
 ...ns/[id]/events |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...or-improvement |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 .../[id]/messages |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...uns/[id]/trace |     100 |     92.3 |     100 |     100 |                   
  route.ts         |     100 |     92.3 |     100 |     100 | 37                
 ...s/pending-help |     100 |    85.71 |     100 |     100 |                   
  route.ts         |     100 |    85.71 |     100 |     100 | 23,39-53          
 api/settings/app  |     100 |    94.02 |     100 |     100 |                   
  route.ts         |     100 |    94.02 |     100 |     100 | 12,24,59,121      
 ...ttings/pricing |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...s/pricing/[id] |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...tings/telegram |   93.33 |    93.75 |   66.66 |     100 |                   
  route.ts         |   93.33 |    93.75 |   66.66 |     100 | 34                
 .../telegram/test |      95 |    76.47 |      50 |     100 |                   
  route.ts         |      95 |    76.47 |      50 |     100 | 36-43             
 ...ommand/execute |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/skills        |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/skills/[id]   |   94.59 |    90.62 |     100 |     100 |                   
  route.ts         |   94.59 |    90.62 |     100 |     100 | 45-46,59          
 api/stats/agents  |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...ts/agents/[id] |   96.66 |      100 |   88.88 |      96 |                   
  route.ts         |   96.66 |      100 |   88.88 |      96 | 39                
 ...tats/workflows |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...workflows/[id] |     100 |    91.66 |     100 |     100 |                   
  route.ts         |     100 |    91.66 |     100 |     100 | 26                
 api/system-stats  |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...-stats/history |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/tasks         |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/tasks/[id]    |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...legram/webhook |   95.45 |       80 |     100 |   95.45 |                   
  route.ts         |   95.45 |       80 |     100 |   95.45 | 12                
 api/tools         |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/tools/[id]    |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/update-check  |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/vault/create  |   93.75 |      100 |      50 |     100 |                   
  route.ts         |   93.75 |      100 |      50 |     100 |                   
 ...lt/credentials |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...dentials/[key] |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...dentials/clear |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...entials/import |    96.8 |       76 |     100 |     100 |                   
  route.ts         |    96.8 |       76 |     100 |     100 | ...,90,96,117,127 
 api/vault/lock    |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/vault/status  |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/vault/unlock  |   89.47 |     87.5 |      50 |   94.44 |                   
  route.ts         |   89.47 |     87.5 |      50 |   94.44 | 32                
 ...workflow-queue |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 api/workflows     |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...workflows/[id] |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...s/[id]/execute |     100 |    68.96 |     100 |     100 |                   
  route.ts         |     100 |    68.96 |     100 |     100 | ...1-71,73-83,109 
 .../[id]/rollback |   96.15 |    93.75 |   66.66 |     100 |                   
  route.ts         |   96.15 |    93.75 |   66.66 |     100 | 36                
 .../[id]/versions |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 lib               |     100 |      100 |     100 |     100 |                   
  ...url-params.ts |     100 |      100 |     100 |     100 |                   
  ...ons-events.ts |     100 |      100 |     100 |     100 |                   
 settings/local    |       0 |        0 |       0 |       0 |                   
  ...ted-models.ts |       0 |        0 |       0 |       0 |                   
-------------------|---------|----------|---------|---------|-------------------

=============================== Coverage summary ===============================
Statements   : 60.19% ( 4387/7288 )
Branches     : 44.45% ( 3094/6960 )
Functions    : 68.08% ( 640/940 )
Lines        : 61.6% ( 4043/6563 )
================================================================================
ERROR: Coverage for lines (61.6%) does not meet global threshold (70%)
ERROR: Coverage for functions (68.08%) does not meet global threshold (70%)
ERROR: Coverage for statements (60.19%) does not meet global threshold (70%)
ERROR: Coverage for branches (44.45%) does not meet global threshold (100%)
npm error Lifecycle script `test:coverage` failed with error:
npm error code 1
npm error path C:\Users\Julian\Documents\Programming\agentron\packages\ui
npm error workspace @agentron-studio/ui@0.1.3
npm error location C:\Users\Julian\Documents\Programming\agentron\packages\ui
npm error command failed
npm error command C:\Windows\system32\cmd.exe /d /s /c vitest run --coverage
